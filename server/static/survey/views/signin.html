<div id="wrap" class="main">
    <!-- Fixed navbar -->
    <!-- Begin page content -->
    <div class="navbar navbar-default navbar-fixed-top"></div>


    <div class="container">
        <div class="page-header">
            <img src="static/survey/assets/img/deck-logo.svg" class="center logo" />
        </div>
        <div class="loading-indicator" ng-show="working">
            <div class="bar">
                <i class="sphere"></i>
            </div>
        </div>
        <div ng-show="showTempUser">
            <h2>No Connection</h2>
            <p>Can't reach the server. Do you want to continue offline?</p>
            <button class="btn btn-main btn-default btn-block" ng-click="offline(authUser, 'signin')">Use Digital Deck Offline</button>
            <a class="btn btn-main btn-default btn-block" href="#/">cancel</a>
        </div>
        <div class="new-user-form signin-form" ng-show="showForgotPassword">
            <form ng-submit="forgotPassword(forgotUser)">
                <fieldset ng-disabled="working">
                    <h4 class="question-title">Enter your email address</h4>
                    <input type="email" class="form-control username" ng-model="forgotUser.email" autocapitalize="off">
                </fieldset>
                <button class="btn btn-main btn-default btn-block" ng-disable="forgotUser.email">forgot password</button>
                <a class="btn btn-main btn-default btn-block" ng-click="showForgotPassword = false">cancel</a>
                <div class="error" ng-show="showError == 'user-not-found'">
                    No user found for that email address.
                </div>
                <div class="error" ng-show="showError == 'multiple-users-found'">
                    Multiple users found with that email address. 
                </div>
            </form>
        </div>
        <div class="new-user-form signin-form" ng-show="showForgotPasswordDone">
            <h3>Link Sent</h3>
            <p>Please check your email for a link to reset your password.</p>
            <a class="btn btn-main btn-default btn-block" ng-click="showForgotPasswordDone = false">ok</a>
        </div>
        <div class="new-user-form signin-form" ng-hide="working || showForgotPassword || showForgotPasswordDone || showTempUser">
            <form ng-submit="authenticateUser(authUser)">
                <fieldset ng-disabled="working">
                    <h4 class="question-title">Username</h4>
                    <input type="text" class="form-control username" ng-model="authUser.username" autocapitalize="off" required>
                    <h4 class="question-title">Password</h4>
                    <password password-text="authUser.password"></password>

                </fieldset>
                <button class="btn btn-main btn-block" ng-disabled="! (authUser.username &&  authUser.password)">login</button>
                <a class="btn btn-main btn-default btn-block" ng-class="{'active': showForm == 'new-user'}" href="#/">cancel</a>
                <div class="error" ng-show="showError == 'auth-error'">
                    There was a problem authenticating. Please try again.
                </div>

            </form>
            <div class="pull-right">
                <a class="forgot-password pull-right" ng-click="showForgotPassword = true">Forgot Password</a>
                <!-- <p style="text-align: right">{{stage}}/{{version}}</p>     -->

            </div>
        </div>
    </div>
</div>
</div>
